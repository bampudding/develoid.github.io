---
layout: post
title: '"아마도 쉬운 안드로이드 어플만들기" [38] 데이터 조회하기(2)'
author: '달팽이들'
categories: Android-App-Develop(Eclipse2)
tags:
- Android
- App
- Develop
- Eclipse
---


<script> location.href='https://cafe.naver.com/develoid/361707' ; </script>

<img src="https://dthumb-phinf.pstatic.net/?src=%22http%3A%2F%2Fpostfiles3.naver.net%2F20130523_178%2Ftjdtnsu_1369283538974akCh1_JPEG%2Fand.jpg%3Ftype%3Dw2%22&amp;type=cafe_wa740"> <div><div><div><div><p><i>퍼갈 때에는 반드시 저작자의 허락과 저작자의 이름(아이디)를 기록하어야 합니다.</i></p><p><i>저작자는 Snails(tjdtnsu)입니다.</i></p><p><span><strong><span>제발 덧글 좀 적어주세요. 강의 적는 시간은 1시간이지만 덧글은 1분도 걸리지 않습니다.</span></strong></span></p><p><u>참고 : 이 강좌는 초보자를 위한 Eclipse를 사용하였습니다.</u></p><p><u>올리는 곳 : 제 네이버 블로그, 디벨로이드 카페</u> </p><div><span><u><strong>업로드 시간 :&nbsp;매달 2,4주 오후 11시</strong></u> <div></div><p>&nbsp;<strong><span>난이도 : ★</span><span>★★<span>★★<span>★★<span>★</span></span></span></span></strong><span>﻿<span>﻿</span></span> </p><div><span><span>﻿</span></span></div><div><span><span></span></span>&nbsp;</div><div><span><span>지난번 시간에 이어서 계속 하겠습니다</span></span></div><div><span><span>오늘은 원래 2구문 하려 했는데, 1구문만 하고 끝내겠습니다</span></span></div><div><span><span></span></span>&nbsp;</div><div><span><span></span></span>&nbsp;</div><div><span><span>private <code class="java keyword">void</code> <code class="java plain">executeRawQueryParam2() { </code><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">println(</code><code class="java string">"\nexecuteRawQueryParam2 called.\n"</code><code class="java plain">); </code></div><div><code class="java spaces">&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String[] columns = {</code><code class="java string">"name"</code><code class="java plain">, </code><code class="java string">"age"</code><code class="java plain">, </code><code class="java string">"phone"</code><code class="java plain">}; </code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String whereStr = </code><code class="java string">"where age &gt; ?"</code><code class="java plain">; </code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String[] whereParams = {</code><code class="java string">"30"</code><code class="java plain">}; </code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain"><span>Cursor c1 = db.query(TABLE_NAME, columns, </span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>whereStr, whereParams, </span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>); </span></code></div><div><code class="java spaces">&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>recordCount = c1.getCount(); </span></code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">println(</code><code class="java string">"cursor count : "</code> <code class="java plain">+ recordCount + </code><code class="java string">"\n"</code><code class="java plain">); </code></div><div><code class="java spaces">&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; recordCount; i++) { </code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain"><span>c1.moveToNext(); </span></code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain"><span>String name = c1.getString(</span></code><code class="java value"><span>0</span></code><code class="java plain"><span>); </span></code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">age = c1.getInt(</code><code class="java value">1</code><code class="java plain">); </code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String phone = c1.getString(</code><code class="java value">2</code><code class="java plain">); </code></div><div><code class="java spaces">&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">println(</code><code class="java string">"Record #"</code> <code class="java plain">+ i + </code><code class="java string">" : "</code> <code class="java plain">+ name + </code><code class="java string">", "</code> <code class="java plain">+ age + </code><code class="java string">", "</code> <code class="java plain">+ phone); </code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code></div><div><code class="java spaces">&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&nbsp;</span></code><code class="java plain"><span>c1.close(); </span></code></div><div><code class="java spaces">&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code></div></span></span>&nbsp;</div><p></p><p><span></span>&nbsp;</p><p><span>﻿5개 줄만 해석 하겠습니다</span></p><p><span>원래 많이 있었는데, 어디로 빠져나갔는지는 비밀</span></p><p><span></span>&nbsp;</p><p><span>일단 이구문이 하는 일은?</span></p><p><span>query() 메소드를 호출하는 기능을 합니다</span></p><p><span></span>&nbsp;</p><p><span>전 복잡한 걸 너무너무 싫어하므로 간단히 하겠습니다.</span></p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span><span>Cursor c1 = db.query(TABLE_NAME, columns, </span></span></p><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>whereStr, whereParams, </span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>); </span></code></div><p></p></span></div><p></p><p><span>이 부분은 query() 메소드를 해석하는 부분입니다. query()이 적혀있는데, 그 부분이고</span></p><p><span>그 안에 뭔가 적혀있는 것은 입력을 주는 겁니다(C언어와 비슷)</span></p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><span><span>int</span><span> </span><code class="java plain"><span>recordCount = c1.getCount();&nbsp; </span></code></span><p><span>﻿여기는 커서의 getCount() 메소드를 이용해 레코드 개수를 확인하는 부분입니다</span></p><p><span>getCount()는 외워두시면 됩니다.</span></p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span><span>c1.moveToNext(); </span></span></p><p><span>c1을 다음 레코드로 이동시키는 부분입니다. </span></p><p><span>물론 이게 없으면 큰일이 나겠지요</span></p><p><span>아, 그리고 이 부분이 없으면 계속 덮어쓰다가</span></p><p><span>하나의 레코드에 마지막값만 넣어놓고 끝납니다.</span></p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span><span>String name = c1.getString(</span><code class="java value"><span>0</span></code><code class="java plain"><span>); </span></code></span></p><p><span>name에 c1의 첫번째 문자열을 확인하는 부분입니다.</span></p><p><span>0이 첫번째 다시 말해서 a[0]같은 겁니다.</span></p><p><span>그 밑도 두번째 정수값, 세번째는 문자열을 불러드립니다.</span></p><p><span></span>&nbsp;</p><p><span>println(<code class="java string">"Record #"</code> <code class="java plain">+ i + </code><code class="java string">" : "</code> <code class="java plain">+ name + </code><code class="java string">", "</code> <code class="java plain">+ age + </code><code class="java string">", "</code> <code class="java plain">+ phone); </code></span></p><p><span>도 중요한데, 쉽습니다. 레코드를 입력했다고 출력을 해주는 겁니다.</span></p><p><span>출력값은 Run해 보시면 상태 부분에서 잘 나오므로 참고하시면 되겠습니다.</span></p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span><span>&nbsp;</span><code class="java plain"><span>c1.close(); </span></code></span></p><p><span>이 부분은 모든 레코드 출력이 끝나면 커서를 닫는 내용입니다</span></p><p><span>닫지 않으면 어떤 일이 생길지 몰라요(별 일이 없을수도 있습니다.)</span></p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span></span>&nbsp;</p><p><span>이걸로 분석이 끝났습니다</span></p><p><span>이건 고급 과정이므로 이해가 되지 않는게 당연합니다</span></p><p><span>다시 한번 말하지만 JAVA를 하시고 여기 들어오시는게 쉽습니다.</span></p><p><span></span>&nbsp;</p><p><span>거기에 SQL 구문도 잘 이해해야만 하므로</span></p><p><span>끝내고 싶었지만....</span></p><p><span></span>&nbsp;</p><p><span>직접 예제를 만들어 보고 끝내겠습니다.(여기서 끝내면 절대 못 만듭니다.)</span></p><p><span>그 뒤에는 연습문제를 풀어보도록 하겠습니다(3개로 예상중입니다)</span></p><span></span><span>﻿</span><p></p></div></div></div></div>
