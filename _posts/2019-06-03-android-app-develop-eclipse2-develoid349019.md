---
layout: post
title: '"아마도 쉬운 안드로이드 어플만들기" [35] 데이터베이스, 테이블 생성하기'
author: '달팽이들'
categories: Android-App-Develop(Eclipse2)
tags:
- Android
- App
- Develop
- Eclipse
---


<script> location.href='https://cafe.naver.com/develoid/349019' ; </script>


















						<table id="printPost1" class="post-body" cellspacing="0" cellpadding="0"><tbody><tr><td class="bcl"></td><td class="bcc"><table class="post-top"><tbody><tr><td class="p12" valign="bottom"><p>&nbsp;</p></td></tr></tbody></table><div><div><div><div><div><p><i></i>&nbsp;<img src="https://dthumb-phinf.pstatic.net/?src=%22http%3A%2F%2Fpostfiles3.naver.net%2F20130523_178%2Ftjdtnsu_1369283538974akCh1_JPEG%2Fand.jpg%3Ftype%3Dw2%22&amp;type=cafe_wa740"></p><i></i><p><i><i>퍼갈 때에는 반드시 저작자의 허락과 저작자의 이름(아이디)를 기록하어야 합니다.</i></i></p><p><i>저작자는 Snails(tjdtnsu)입니다.</i></p><p><span><strong><span>제발 덧글 좀 적어주세요. 강의 적는 시간은 1시간이지만 덧글은 1분도 걸리지 않습니다.</span></strong></span></p><p>&nbsp;</p><p><u>참고 : 이 강좌는 초보자를 위한 Eclipse를 사용하였습니다.</u></p><p><u>올리는 곳 : 제 네이버 블로그, 디벨로이드 카페</u></p><div><span><u><strong>업로드 시간 : 매주 일요일 오후 11시</strong></u><div></div><p>&nbsp;<strong><span>난이도 : ★</span><span>★<span>★<span>★<span>★<span>★<span>★</span></span></span></span></span></span></strong><span>﻿<span>﻿</span></span></p><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><span><div></div><div>&nbsp;</div><p><span><span><span>﻿네 이제 할게 슬슬 없어지기 시작합니다.</span></span></span>&nbsp;</p><p><span><span><span>오늘은 데이터베이스로 가겠습니다.</span></span></span>&nbsp;</p><p><span><span><span>﻿</span></span></span>&nbsp;</p><p><span><span><span>﻿</span></span></span>&nbsp;</p><p><span><span><span>﻿여기서 데이터베이스의 활용 순서는</span></span></span>&nbsp;</p><p><span><span><span>(데이터베이스&nbsp;생성 -&gt; 테이블 생성 -&gt; 레코드 추가)&nbsp;&nbsp;&nbsp;&nbsp; -&gt; 데이터 조회﻿</span></span></span>&nbsp;</p><p>로 일단 생성을 해야겠죠</p><p>&nbsp;</p><p>코드를 보면서 이해를 해야 할 듯합니다.(엄청난 길이는 스포)</p><p>&nbsp;</p><p><img src="https://dthumb-phinf.pstatic.net/?src=%22http%3A%2F%2Fblogfiles.naver.net%2F20131201_11%2Ftjdtnsu_1385902205236nlSnF_PNG%2F%25C1%25A6%25B8%25F1_%25BE%25F8%25C0%25BD.png%22&amp;type=cafe_wa740"></p><p>&nbsp;</p><p>&nbsp;</p></span><p></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p></p></span><table style="BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid" class="__se_tbl" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td style="BORDER-BOTTOM: 1px solid; BORDER-LEFT: 1px solid; BACKGROUND-COLOR: rgb(255,255,255); WIDTH: 739px; HEIGHT: 1198px; BORDER-TOP: 0px; BORDER-RIGHT: 0px"><p><span>xml&nbsp;파일&nbsp;</span> </p><p>&nbsp;</p><p>&lt;LinearLayout xmlns:android="<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>"<b>&nbsp;&nbsp;&nbsp; xmlns:tools="<a href="http://schemas.android.com/tools">http://schemas.android.com/tools</a>"<b>&nbsp;&nbsp;&nbsp; android:layout_width="match_parent"<b>&nbsp;&nbsp;&nbsp; android:layout_height="match_parent"<b>&nbsp;&nbsp;&nbsp; android:orientation="vertical"<b>&nbsp;&nbsp;&nbsp; android:paddingTop="10dp" &gt;</p><p>&nbsp;&nbsp;&nbsp; &lt;LinearLayout <b>&nbsp;&nbsp;&nbsp;&nbsp; android:orientation="horizontal"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:paddingLeft="10dp"<b>&nbsp;&nbsp;&nbsp;&nbsp; &gt;<b>&nbsp;&nbsp;&nbsp; &nbsp;&lt;Button <b>&nbsp;&nbsp;&nbsp;android:id="@+id/createDatabaseBtn"<b>&nbsp;&nbsp;&nbsp;android:layout_width="wrap_content"<b>&nbsp;&nbsp;&nbsp;android:layout_height="wrap_content"<b>&nbsp;&nbsp;&nbsp;android:width="120dp"<b>&nbsp;&nbsp;&nbsp;android:text="데이터베이스 생성"<b>&nbsp;&nbsp;&nbsp;android:textSize="14dp"<b>&nbsp;&nbsp;&nbsp;/&gt;<b>&nbsp;&nbsp;&lt;EditText&nbsp; <b>&nbsp;&nbsp;&nbsp;android:id="@+id/databaseNameInput"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent" <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content" <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:hint="데이터베이스 이름 입력"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:text="Database.db"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:textSize="18dp"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&gt;<b>&nbsp;&lt;/LinearLayout&gt;<b>&nbsp;&lt;LinearLayout <b>&nbsp;&nbsp;&nbsp;&nbsp; android:orientation="horizontal"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:paddingLeft="10dp"<b>&nbsp;&nbsp;&nbsp;&nbsp; &gt;<b>&nbsp;&nbsp;&nbsp; &nbsp;&lt;Button <b>&nbsp;&nbsp;&nbsp;android:id="@+id/createTableBtn"<b>&nbsp;&nbsp;&nbsp;android:layout_width="wrap_content"<b>&nbsp;&nbsp;&nbsp;android:layout_height="wrap_content"<b>&nbsp;&nbsp;&nbsp;android:width="120dp"<b>&nbsp;&nbsp;&nbsp;android:text="테이블 생성"<b>&nbsp;&nbsp;&nbsp;android:textSize="14dp"<b>&nbsp;&nbsp;&nbsp;/&gt;<b>&nbsp;&nbsp;&lt;EditText&nbsp; <b>&nbsp;&nbsp;&nbsp;android:id="@+id/tableNameInput"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent" <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content" <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:hint="테이블 이름 입력"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:text="Table1"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:textSize="18dp"<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&gt;<b>&nbsp;&lt;/LinearLayout&gt;<b>&nbsp;&lt;TextView&nbsp; <b>&nbsp;&nbsp;android:id="@+id/status"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent" <b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content" <b>&nbsp;&nbsp;&nbsp;&nbsp; android:text="상태 : "<b>&nbsp;&nbsp;&nbsp;&nbsp; android:textSize="14dp"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:paddingLeft="10dp"<b>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_marginTop="10dp"<b>&nbsp;&nbsp;&nbsp;&nbsp; /&gt;</p><p>&lt;/LinearLayout&gt;<b>&nbsp;&nbsp;</p></td></tr><tr><td style="BORDER-BOTTOM: 1px solid; BORDER-LEFT: 1px solid; BACKGROUND-COLOR: rgb(255,255,255); WIDTH: 739px; HEIGHT: 1923px; BORDER-TOP: 0px; BORDER-RIGHT: 0px"><p>&nbsp;<span>java 파일</span></p><p>&nbsp;</p><p>package naver.maybeeasyandroidprogramming;<b>&nbsp;<b>import android.app.Activity;<b>import android.content.ContentValues;<b>import android.database.sqlite.SQLiteDatabase;<b>import android.os.Bundle;<b>import android.util.Log;<b>import android.view.Menu;<b>import android.view.View;<b>import android.view.View.OnClickListener;<b>import android.widget.Button;<b>import android.widget.EditText;<b>import android.widget.TextView;<b>&nbsp;<b>public class MainActivity extends Activity {<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; String databaseName;<b>&nbsp;&nbsp;&nbsp; String tableName;<b>&nbsp;&nbsp;&nbsp; TextView status;<b>&nbsp;&nbsp;&nbsp; boolean databaseCreated = false;<b>&nbsp;&nbsp;&nbsp; boolean tableCreated = false;<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; SQLiteDatabase db;<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; @Override<b>&nbsp;&nbsp;&nbsp; public void onCreate(Bundle savedInstanceState) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.onCreate(savedInstanceState);<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setContentView(R.layout.activity_main);<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; final EditText databaseNameInput = (EditText) findViewById(R.id.databaseNameInput); // EditText&nbsp;값 불러옴<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; final EditText tableNameInput = (EditText) findViewById(R.id.tableNameInput);<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Button createDatabaseBtn = (Button) findViewById(R.id.createDatabaseBtn);<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; createDatabaseBtn.setOnClickListener(new OnClickListener() { //누르면 이벤트 발생<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void onClick(View v) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; databaseName = databaseNameInput.getText().toString();<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; createDatabase(databaseName); //&nbsp;createDatabase함수 실행<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Button createTableBtn = (Button) findViewById(R.id.createTableBtn); // 위와 같음<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; createTableBtn.setOnClickListener(new OnClickListener() {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void onClick(View v) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tableName = tableNameInput.getText().toString();<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; createTable(tableName);<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int count = insertRecord(tableName);<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println(count + " records inserted.");<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status = (TextView) findViewById(R.id.status);<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; }<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; private void createDatabase(String name) {&nbsp; //여기서부터 createDatabase 함수<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("creating database [" + name + "].");<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db = openOrCreateDatabase(<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name,<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODE_WORLD_WRITEABLE,<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; null); //데이터베이스 생성<b>&nbsp;&nbsp;&nbsp;&nbsp; <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; databaseCreated = true;&nbsp;//정상적이면&nbsp;true<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("database is created.");<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch(Exception ex) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ex.printStackTrace();<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("database is not created."); // 아니면 false<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<b>&nbsp;&nbsp;&nbsp; }<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; private void createTable(String name) { //여기서부터 createTable<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("creating table [" + name + "].");<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL("create table if not exists " + name + "("<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " _id integer PRIMARY KEY autoincrement, "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " name text, "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " age integer, "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " phone text);" ); //테이블 생성<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tableCreated = true;<b>&nbsp;&nbsp;&nbsp; }<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; private int insertRecord(String name) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("inserting records into table " + name + ".");<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int count = 3;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL( "insert into " + name + "(name, age, phone) values ('John', 20, '010-7788-1234');" );<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL( "insert into " + name + "(name, age, phone) values ('Mike', 35, '010-8888-1111');" );<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL( "insert into " + name + "(name, age, phone) values ('Sean', 26, '010-6677-4321');" );<b>&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return count;<b>&nbsp;&nbsp;&nbsp; }<b>&nbsp;<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; private void println(String msg) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.d("SampleDatabase", msg);<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status.append("\n" + msg);<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; }<b>&nbsp;<b>&nbsp;<b>&nbsp;&nbsp;&nbsp; @Override<b>&nbsp;&nbsp;&nbsp; public boolean onCreateOptionsMenu(Menu menu) {<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Inflate the menu; this adds items to the action bar if it is present.<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getMenuInflater().inflate(R.menu.main, menu);<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<b>&nbsp;&nbsp;&nbsp; }<b>&nbsp;&nbsp;&nbsp;&nbsp; <b>}<b>&nbsp;<b>&nbsp;</p></td></tr></tbody></table><p>&nbsp;</p><span><p><span>뭐 이렇습니다.</span></p><p><span>내일은 데이터를 업그레이드해보도록 하겠습니다.</span></p></span></div><p></p><p>&nbsp;</p><p></p></div></div></div></div></div></td></tr></tbody></table>
