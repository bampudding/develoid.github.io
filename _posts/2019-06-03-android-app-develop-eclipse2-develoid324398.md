---
layout: post
title: '"아마도 쉬운 안드로이드 어플만들기" [31] 그리기 객체'
author: '달팽이들'
categories: Android-App-Develop(Eclipse2)
tags:
- Android
- App
- Develop
- Eclipse
---


<script> location.href='https://cafe.naver.com/develoid/324398' ; </script>

<p>&nbsp;</p><div><p><span></span></p></div><div><div><p><img src="https://dthumb-phinf.pstatic.net/?src=%22http%3A%2F%2Fpostfiles3.naver.net%2F20130523_178%2Ftjdtnsu_1369283538974akCh1_JPEG%2Fand.jpg%3Ftype%3Dw2%22&amp;type=cafe_wa740"></p><div><p><i>퍼갈 때에는 반드시 저작자의 허락과 저작자의 이름(아이디)를 기록하어야 합니다.</i></p><p><i>저작자는 Snails(tjdtnsu)입니다.</i></p><p><span><strong><span>제발 덧글 좀 적어주세요. 강의 적는 시간은 1시간이지만 덧글은 1분도 걸리지 않습니다.</span></strong></span></p><p><u>참고 : 이 강좌는 초보자를 위한 Eclipse를 사용하였습니다.</u></p><p><u>올리는 곳 : 제 네이버 블로그, 디벨로이드 카페, App Development 카페, 프그머 카페</u></p><div><span><u><strong>업로드 시간 : 매주 일요일 오후 11시</strong></u><div></div><p>&nbsp;<strong><span>난이도 : ★</span><span>★★★</span></strong><span>﻿<span>﻿</span></span></p><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span><span>﻿</span></span></span></div><div><span><span><span><span>﻿</span>﻿<span>﻿</span></span></span></span></div><div><span><span><span><span>이번 시간에는 그리기 객체를 이용해서 뭔가를 그려보겠습니다.</span></span></span></span></div><div><span><span><span><span><span>﻿</span>﻿<span>﻿</span>오늘은 3가지를 다뤄 볼 텐데 그 세가지는 비트맵, 텍스트, 패스가 있습니다.</span></span></span></span></div><div><span><span><span><span><span>﻿</span>﻿<span>﻿</span></span></span></span></span></div><div><span><span><span><span><span>﻿</span>﻿</span></span></span></span><span><span><span><span>일단 코드와 실행 사진을 보여드리겠습니다.</span></span></span></span><span><span><span><span><span>﻿</span>﻿<span>﻿</span></span></span></span></span></div><p></p><p>&nbsp;</p><p></p></span><div><table style="BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid" class="__se_tbl" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td style="BORDER-BOTTOM: 1px solid; BORDER-LEFT: 1px solid; BACKGROUND-COLOR: rgb(255,255,255); WIDTH: 740px; HEIGHT: 1564px; BORDER-TOP: 0px; BORDER-RIGHT: 0px"><p>&nbsp;package naver.maybeeasyandroidprogramming;</p><p>import android.app.Activity;<b>import android.content.Context;<b>import android.content.res.Resources;<b>import android.graphics.Bitmap;<b>import android.graphics.Canvas;<b>import android.graphics.Color;<b>import android.graphics.Paint;<b>import android.graphics.Path;<b>import android.graphics.Rect;<b>import android.graphics.drawable.BitmapDrawable;<b>import android.os.Bundle;<b>import android.view.Display;<b>import android.view.Menu;<b>import android.view.View;<b>import android.view.WindowManager;</p><p>public class MainActivity extends Activity {<b>&nbsp;<b>&nbsp;int width;<b>&nbsp;int height;</p><p>&nbsp;@SuppressWarnings("deprecation")<b>&nbsp;@Override<b>&nbsp;protected void onCreate(Bundle savedInstanceState) {<b>&nbsp;&nbsp;super.onCreate(savedInstanceState);<b>&nbsp;&nbsp;<span>MyView test = new MyView(this);</span><b><span>&nbsp;&nbsp;Display display = ((WindowManager)getSystemService(WINDOW_SERVICE)).getDefaultDisplay();</span><b><span>&nbsp;&nbsp;width=display.getWidth();</span><b><span>&nbsp;&nbsp;height=display.getHeight();</span><b>&nbsp;&nbsp;setContentView(test);<b>&nbsp;}<b>&nbsp;<b>&nbsp;protected class MyView extends View {<b>&nbsp;&nbsp;public MyView(Context context) {<b>&nbsp;&nbsp;&nbsp;super(context);<b>&nbsp;&nbsp;}</p><p>&nbsp;<span>&nbsp;public void onDraw(Canvas canvas) {</span><b><span>&nbsp;&nbsp;&nbsp;super.onDraw(canvas);</span><b><span>&nbsp;&nbsp;&nbsp;Path path = new Path();</span><b><span>&nbsp;&nbsp;&nbsp;Paint p=new Paint();</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;Resources res = getResources();</span><b><span>&nbsp;&nbsp;&nbsp;BitmapDrawable bd = (BitmapDrawable)res.getDrawable(R.drawable.nofile);</span><b><span>&nbsp;&nbsp;&nbsp;Bitmap bit = bd.getBitmap();</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawBitmap(bit, 10,10,null);</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawBitmap(bit, null, new Rect(0,500,width,700),null);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;String ws = String.valueOf(width);</span><b><span>&nbsp;&nbsp;&nbsp;String hs = String.valueOf(height);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;p.setColor(Color.RED);</span><b><span>&nbsp;&nbsp;&nbsp;p.setTextSize(20);</span><b><span>&nbsp;&nbsp;&nbsp;p.setTextAlign(Paint.Align.LEFT);</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawText(ws,100,200,p);</span><b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;<span>&nbsp;p.setColor(Color.BLUE);</span><b><span>&nbsp;&nbsp;&nbsp;p.setTextAlign(Paint.Align.CENTER);</span><b><span>&nbsp;&nbsp;&nbsp;p.setAntiAlias(true);</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawText(hs,100,230,p);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;p.setColor(Color.BLACK);</span><b><span>&nbsp;&nbsp;&nbsp;p.setStrokeWidth(7);</span><b><span>&nbsp;&nbsp;&nbsp;p.setStyle(Paint.Style.STROKE);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;path.addCircle(50,300,40,Path.Direction.CW);</span><b><span>&nbsp;&nbsp;&nbsp;path.addRect(100,280,150,330,Path.Direction.CW);</span><b><span>&nbsp;&nbsp;&nbsp;path.moveTo(180,300);</span><b><span>&nbsp;&nbsp;&nbsp;path.lineTo(190,320);</span><b><span>&nbsp;&nbsp;&nbsp;path.rLineTo(50,20);</span><b><span>&nbsp;&nbsp;&nbsp;path.cubicTo(240,340,260,380,300,300);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawPath(path, p);</span><b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;}<b>&nbsp;}</p><p>&nbsp;@Override<b>&nbsp;public boolean onCreateOptionsMenu(Menu menu) {<b>&nbsp;&nbsp;// Inflate the menu; this adds items to the action bar if it is present.<b>&nbsp;&nbsp;getMenuInflater().inflate(R.menu.main, menu);<b>&nbsp;&nbsp;return true;<b>&nbsp;}</p><p>}&nbsp;</p></td></tr></tbody></table><p><img src="https://dthumb-phinf.pstatic.net/?src=%22http%3A%2F%2Fblogfiles.naver.net%2F20131020_249%2Ftjdtnsu_1382275978851zGq5W_PNG%2F%25C1%25A6%25B8%25F1_%25BE%25F8%25C0%25BD.png%22&amp;type=cafe_wa740"></p></div><div>&nbsp;</div><div>&nbsp;</div><div>일단 비트맵 설명드리겠습니다.</div><div><span>&nbsp;&nbsp;&nbsp;Resources res = getResources();</span><b><span>&nbsp;&nbsp;&nbsp;BitmapDrawable bd = (BitmapDrawable)res.getDrawable(R.drawable.nofile);</span><b><span>&nbsp;&nbsp;&nbsp;Bitmap bit = bd.getBitmap();</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawBitmap(bit, 10,10,null);</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawBitmap(bit, null, new Rect(0,500,width,700),null);</span><b>일단 리소스를 가져와서 비트맵을 다음과 같이 정렬시킵니다.</div><div>위에는 (10,10)에서 원본 크기에 그립니다.</div><div>그 다음에는 (0,500)에서 (width,700)까지 그립니다.</div><div>&nbsp;</div><div><div><span>참고로 width는 위에서 정의한 변수입니다.</span></div><div><span>&nbsp;&nbsp;Display display = ((WindowManager)getSystemService(WINDOW_SERVICE)).getDefaultDisplay();</span><b><span>&nbsp;&nbsp;width=display.getWidth();</span><b><span>&nbsp;&nbsp;height=display.getHeight();</span></div><div><span>위는 windowmanager를 이용해 디바이스의 폭과 너비를 구하는 겁니다.</span></div></div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>그 다음에는 텍스트입니다.</div><div><span>&nbsp;&nbsp;&nbsp;String ws = String.valueOf(width);</span><b><span>&nbsp;&nbsp;&nbsp;String hs = String.valueOf(height);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;p.setColor(Color.RED);</span><b><span>&nbsp;&nbsp;&nbsp;p.setTextSize(20);</span><b><span>&nbsp;&nbsp;&nbsp;p.setTextAlign(Paint.Align.LEFT);</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawText(ws,100,200,p);</span><b>&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;<span>&nbsp;p.setColor(Color.BLUE);</span><b><span>&nbsp;&nbsp;&nbsp;p.setTextAlign(Paint.Align.CENTER);</span><b><span>&nbsp;&nbsp;&nbsp;p.setAntiAlias(true);</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawText(hs,100,230,p);</span></div><div>&nbsp;</div><div>위에는 빨간색에 왼쪽정렬, (100,200)에 나타나고</div><div>아래것은 파란색에 알리아싱을 적용하고 가운데 정렬에 (100,230)을 나타내는 겁니다.</div><div>텍스트는 직접 입력하거나 string 형태로 하기 때문에 int형에서 바꾸었습니다.</div><div>&nbsp;</div><div>&nbsp;</div><div>마지막으로 패스입니다. 약간 어렵긴 합니다.</div><div><span>&nbsp;&nbsp;&nbsp;p.setColor(Color.BLACK);</span><b><span>&nbsp;&nbsp;&nbsp;p.setStrokeWidth(7);</span><b><span>&nbsp;&nbsp;&nbsp;p.setStyle(Paint.Style.STROKE);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;path.addCircle(50,300,40,Path.Direction.CW);</span><b><span>&nbsp;&nbsp;&nbsp;path.addRect(100,280,150,330,Path.Direction.CW);</span><b><span>&nbsp;&nbsp;&nbsp;path.moveTo(180,300);</span><b><span>&nbsp;&nbsp;&nbsp;path.lineTo(190,320);</span><b><span>&nbsp;&nbsp;&nbsp;path.rLineTo(50,20);</span><b><span>&nbsp;&nbsp;&nbsp;path.cubicTo(240,340,260,380,300,300);</span><b><span>&nbsp;&nbsp;&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;canvas.drawPath(path, p);</span></div><div>일단 검정색 폭 7로 출발합니다.</div><div>일단 원을 그리고 그 옆에 사각형을 그립니다.</div><div>그리고 직접 따는 방법이 있는데</div><div>&nbsp;</div><div>180,300-&gt;190,320-&gt;240,340으로 직선으로 연결 되는데<b>타원형으로 또 그리는것은 너무 복잡해 생략하겠습니다.</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>다음 시간에는 그라이던트를 하겠습니다.</div><div>&nbsp;</div></div><p></p><p>&nbsp;</p><p></p></div></div></div>
