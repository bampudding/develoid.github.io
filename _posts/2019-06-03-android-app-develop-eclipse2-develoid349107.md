---
layout: post
title: '"아마도 쉬운 안드로이드 어플만들기" [37] 데이터 조회하기(1)'
author: '달팽이들'
categories: Android-App-Develop(Eclipse2)
tags:
- Android
- App
- Develop
- Eclipse
---


<script> location.href='https://cafe.naver.com/develoid/349107' ; </script>


















						<img src="https://dthumb-phinf.pstatic.net/?src=%22http%3A%2F%2Fpostfiles3.naver.net%2F20130523_178%2Ftjdtnsu_1369283538974akCh1_JPEG%2Fand.jpg%3Ftype%3Dw2%22&amp;type=cafe_wa740"><div><div><div><div><p><i>퍼갈 때에는 반드시 저작자의 허락과 저작자의 이름(아이디)를 기록하어야 합니다.</i></p><p><i>저작자는 Snails(tjdtnsu)입니다.</i></p><p><span><strong><span>제발 덧글 좀 적어주세요. 강의 적는 시간은 1시간이지만 덧글은 1분도 걸리지 않습니다.</span></strong></span></p><p><u>참고 : 이 강좌는 초보자를 위한 Eclipse를 사용하였습니다.</u></p><p><u>올리는 곳 : 제 네이버 블로그, 디벨로이드 카페</u></p><div><span><u><strong>업로드 시간 : 매주 일요일 오후 11시</strong></u><div></div><p>&nbsp;<strong><span>난이도 : ★</span><span>★★<span>★★<span>★★<span>★</span></span></span></span></strong><span>﻿<span>﻿</span></span></p><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><div><span><span>﻿</span></span></div><span><div></div><div>&nbsp;</div><div>오늘은 본격적으로 데이터베이스 생성, 표 생성, 레코드 입력 뒤</div><div>헬퍼 클래스를 사용 후 데이터를 조회해 보겠습니다.</div><div>&nbsp;</div><div>일단 코드를 쭉 나열하고 풀이는 몇 시간에 나누어서 하겠습니다.</div><div><table style="BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid" class="__se_tbl" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td style="BORDER-BOTTOM: 1px solid; BORDER-LEFT: 1px solid; BACKGROUND-COLOR: rgb(255,255,255); WIDTH: 739px; HEIGHT: 882px; BORDER-TOP: 0px; BORDER-RIGHT: 0px"><p>&nbsp;XML</p><p>&nbsp;</p><p><span>&nbsp;&lt;LinearLayout xmlns:android="</span><a href="http://schemas.android.com/apk/res/android"><span>http://schemas.android.com/apk/res/android</span></a><span>"</span><b><span>&nbsp;&nbsp;&nbsp; xmlns:tools="</span><a href="http://schemas.android.com/tools"><span>http://schemas.android.com/tools</span></a><span>"</span><b><span>&nbsp;&nbsp;&nbsp; android:layout_width="match_parent"</span><b><span>&nbsp;&nbsp;&nbsp; android:layout_height="match_parent"</span><b><span>&nbsp;&nbsp;&nbsp; android:orientation="vertical"</span><b><span>&nbsp;&nbsp;&nbsp; android:paddingTop="10dp" &gt;</span></p><p><span>&nbsp;&nbsp;&nbsp; &lt;LinearLayout </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:orientation="horizontal"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:paddingLeft="10dp"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; &gt;</span><b><span>&nbsp;&nbsp;&nbsp; &nbsp;&lt;Button </span><b><span>&nbsp;&nbsp;&nbsp;android:id="@+id/Button"</span><b><span>&nbsp;&nbsp;&nbsp;android:layout_width="wrap_content"</span><b><span>&nbsp;&nbsp;&nbsp;android:layout_height="wrap_content"</span><b><span>&nbsp;&nbsp;&nbsp;android:width="120dp"</span><b><span>&nbsp;&nbsp;&nbsp;android:text="조회"</span><b><span>&nbsp;&nbsp;&nbsp;android:textSize="14dp"</span><b><span>&nbsp;&nbsp;&nbsp;/&gt;</span><b><span>&nbsp;&nbsp;&lt;EditText&nbsp; </span><b><span>&nbsp;&nbsp;&nbsp;android:id="@+id/input"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent" </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content" </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:hint="조회할 텍스트 입력"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:textSize="18dp"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&gt;</span><b><span>&nbsp;&lt;/LinearLayout&gt;</span><b><span>&nbsp;&lt;LinearLayout </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:orientation="horizontal"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:paddingLeft="10dp"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; &gt;</span></p><p><span>&nbsp;&lt;/LinearLayout&gt;</span><b><span>&nbsp;&lt;TextView&nbsp; </span><b><span>&nbsp;&nbsp;android:id="@+id/status"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_width="match_parent" </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_height="wrap_content" </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:text="상태 : "</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:textSize="14dp"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:paddingLeft="10dp"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; android:layout_marginTop="10dp"</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; /&gt;</span></p><p><span>&lt;/LinearLayout&gt;</span><b><span>&nbsp;</span>&nbsp;</p></td></tr><tr><td style="BORDER-BOTTOM: 1px solid; BORDER-LEFT: 1px solid; BACKGROUND-COLOR: rgb(255,255,255); WIDTH: 739px; HEIGHT: 3492px; BORDER-TOP: 0px; BORDER-RIGHT: 0px"><p>&nbsp;JAVA</p><p>&nbsp;</p><p><span>package naver.maybeeasyandroidprogramming;</span><b><span>&nbsp;</span><b><span>import android.app.Activity;</span><b><span>import android.content.Context;</span><b><span>import android.database.Cursor;</span><b><span>import android.database.sqlite.SQLiteDatabase;</span><b><span>import android.database.sqlite.SQLiteOpenHelper;</span><b><span>import android.os.Bundle;</span><b><span>import android.util.Log;</span><b><span>import android.view.Menu;</span><b><span>import android.view.View;</span><b><span>import android.view.View.OnClickListener;</span><b><span>import android.widget.Button;</span><b><span>import android.widget.EditText;</span><b><span>import android.widget.TextView;</span><b><span>&nbsp;</span><b><span>public class MainActivity extends Activity {</span><b><span>&nbsp; </span><b><span>&nbsp;&nbsp;&nbsp; private TextView status;</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; public static final String TAG = "MainActivity";</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private static String DATABASE_NAME = null;</span><b><span>&nbsp;&nbsp;&nbsp; private static String TABLE_NAME = "employee";</span><b><span>&nbsp;&nbsp;&nbsp; private static int DATABASE_VERSION = 1;</span><b><span>&nbsp;&nbsp;&nbsp; private DatabaseHelper dbHelper;</span><b><span>&nbsp;&nbsp;&nbsp; private SQLiteDatabase db;</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; @Override</span><b><span>&nbsp;&nbsp;&nbsp; public void onCreate(Bundle savedInstanceState) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.onCreate(savedInstanceState);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setContentView(R.layout.activity_main);</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status = (TextView) findViewById(R.id.status);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; final EditText input01 = (EditText) findViewById(R.id.input);</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Button queryBtn = (Button) findViewById(R.id.Button);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; queryBtn.setOnClickListener(new OnClickListener() {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void onClick(View v) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATABASE_NAME = input01.getText().toString();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boolean isOpen = openDatabase();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (isOpen) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; executeRawQuery();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; executeRawQueryParam();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private boolean openDatabase() {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("opening database [" + DATABASE_NAME + "].");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbHelper = new DatabaseHelper(this);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db = dbHelper.getWritableDatabase();</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private void executeRawQuery() {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("\nexecuteRawQuery called.\n");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cursor c1 = db.rawQuery("select count(*) as Total from " + TABLE_NAME, null);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("cursor count : " + c1.getCount());</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1.moveToNext();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("record count : " + c1.getInt(0));</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1.close();</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private void executeRawQueryParam() {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("\nexecuteRawQueryParam called.\n");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String SQL = "select name, age, phone "</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " from " + TABLE_NAME</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " where age &gt; ?";</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] args= {"30"};</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cursor c1 = db.rawQuery(SQL, args);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int recordCount = c1.getCount();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("cursor count : " + recordCount + "\n");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; recordCount; i++) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1.moveToNext();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String name = c1.getString(0);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int age = c1.getInt(1);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String phone = c1.getString(2);</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("Record #" + i + " : " + name + ", " + age + ", " + phone);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1.close();</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private void executeRawQueryParam2() {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("\nexecuteRawQueryParam2 called.\n");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] columns = {"name", "age", "phone"};</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String whereStr = "where age &gt; ?";</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] whereParams = {"30"};</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cursor c1 = db.query(TABLE_NAME, columns,</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; whereStr, whereParams,</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; null, null, null);</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int recordCount = c1.getCount();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("cursor count : " + recordCount + "\n");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i = 0; i &lt; recordCount; i++) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1.moveToNext();</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String name = c1.getString(0);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int age = c1.getInt(1);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String phone = c1.getString(2);</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("Record #" + i + " : " + name + ", " + age + ", " + phone);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1.close();</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private void println(String msg) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.d(TAG, msg);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status.append("\n" + msg);</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; private class DatabaseHelper extends SQLiteOpenHelper {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public DatabaseHelper(Context context) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super(context, DATABASE_NAME, null, DATABASE_VERSION);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void onCreate(SQLiteDatabase db) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("creating table [" + TABLE_NAME + "].");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String DROP_SQL = "drop table if exists " + TABLE_NAME;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL(DROP_SQL);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch(Exception ex) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.e(TAG, "Exception in DROP_SQL", ex);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String CREATE_SQL = "create table " + TABLE_NAME + "("</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " _id integer PRIMARY KEY autoincrement, "</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " name text, "</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " age integer, "</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + " phone text)";</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL(CREATE_SQL);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch(Exception ex) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.e(TAG, "Exception in CREATE_SQL", ex);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("inserting records.");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL( "insert into " + TABLE_NAME + "(name, age, phone) values ('John', 20, '010-7788-1234');" );</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL( "insert into " + TABLE_NAME + "(name, age, phone) values ('Mike', 35, '010-8888-1111');" );</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.execSQL( "insert into " + TABLE_NAME + "(name, age, phone) values ('Sean', 26, '010-6677-4321');" );</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch(Exception ex) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.e(TAG, "Exception in insert SQL", ex);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void onOpen(SQLiteDatabase db) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; println("opened database [" + DATABASE_NAME + "].");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.w(TAG, "Upgrading database from version " + oldVersion + " to " + newVersion + ".");</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;&nbsp;&nbsp; }</span></p><p><span>&nbsp;</span><b><span>&nbsp;</span><b><span>&nbsp;&nbsp;&nbsp; @Override</span><b><span>&nbsp;&nbsp;&nbsp; public boolean onCreateOptionsMenu(Menu menu) {</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Inflate the menu; this adds items to the action bar if it is present.</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getMenuInflater().inflate(R.menu.main, menu);</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;</span><b><span>&nbsp;&nbsp;&nbsp; }</span><b><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span>}</span><b>&nbsp;<b>&nbsp;/이 코드는 어딘가의 예제에 있는 것을 사용했음을 밝힙니다.</p></td></tr></tbody></table><span><span><p>&nbsp;</p></span></span><p>&nbsp;JAVA 코드를 유심히 살펴 보아야 하는데</p><p>200줄이나 됩니다.&nbsp;</p><p>하나씩 살펴보아야 하는데</p><p>이해가 안될겁니다(아마)</p><p>&nbsp;</p><p>&nbsp;</p><p>-1-</p><p>@Override</p><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">onCreate(Bundle savedInstanceState) {</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">super</code><code class="java plain">.onCreate(savedInstanceState);</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">setContentView(R.layout.activity_main);</code></div><div>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">status = (TextView) findViewById(R.id.status);</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">final</code> <code class="java plain">EditText input01 = (EditText) findViewById(R.id.input01);</code></div><div>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Button queryBtn = (Button) findViewById(R.id.queryBtn);</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">queryBtn.setOnClickListener(</code><code class="java keyword">new</code> <code class="java plain">OnClickListener() {</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">onClick(View v) {</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">DATABASE_NAME = input01.getText().toString();</code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>boolean</span></code><span> </span><code class="java plain"><span>isOpen = openDatabase();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>if</span></code><span> </span><code class="java plain"><span>(isOpen) {</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>executeRawQuery();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>executeRawQueryParam();</span></code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">});</code></div><div>&nbsp;</div><div><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><p>&nbsp;</p><p>제일 앞쪽에 있는 부분입니다.</p><p>지금 빨간색으로 칠해놓은 부분은</p><p>새로운 <u>헬퍼 클래스</u>를 정의해놓은 부분입니다.</p><p>메인 액티비에에서 선언된 변수들 중 dbHelper는 DatabaseHelper 객체를 위한 것입니다.</p><p>&nbsp;</p><p><u>헬퍼 클래스</u> : 데이터베이스를 만들거나 열기 위해 필요한 일들을 도와주는 역할을 함</p><p>&nbsp;</p><p>&nbsp;</p><p>-2-</p><span><p><span>&nbsp;&nbsp;&nbsp;</span><code class="java keyword"><span>private</span></code><span> </span><code class="java keyword"><span>boolean</span></code><span> </span><code class="java plain"><span>openDatabase() {</span></code></p><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"opening database ["</span></code><span> </span><code class="java plain"><span>+ DATABASE_NAME + </span></code><code class="java string"><span>"]."</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>dbHelper = </span></code><code class="java keyword"><span>new</span></code><span> </span><code class="java plain"><span>DatabaseHelper(</span></code><code class="java keyword"><span>this</span></code><code class="java plain"><span>);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>db = dbHelper.getWritableDatabase();</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>return</span></code><span> </span><code class="java keyword"><span>true</span></code><code class="java plain"><span>;</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>}</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>private</span></code><span> </span><code class="java keyword"><span>void</span></code><span> </span><code class="java plain"><span>executeRawQuery() {</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"\nexecuteRawQuery called.\n"</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>Cursor c1 = db.rawQuery(</span></code><code class="java string"><span>"select count(*) as Total from "</span></code><span> </span><code class="java plain"><span>+ TABLE_NAME, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"cursor count : "</span></code><span> </span><code class="java plain"><span>+ c1.getCount());</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>c1.moveToNext();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"record count : "</span></code><span> </span><code class="java plain"><span>+ c1.getInt(</span></code><code class="java value"><span>0</span></code><code class="java plain"><span>));</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>c1.close();</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>}</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>private</span></code><span> </span><code class="java keyword"><span>void</span></code><span> </span><code class="java plain"><span>executeRawQueryParam() {</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"\nexecuteRawQueryParam called.\n"</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String SQL = </span></code><code class="java string"><span>"select name, age, phone "</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>+ </span></code><code class="java string"><span>" from "</span></code><span> </span><code class="java plain"><span>+ TABLE_NAME</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>+ </span></code><code class="java string"><span>" where age &gt; ?"</span></code><code class="java plain"><span>;</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String[] args= {</span></code><code class="java string"><span>"30"</span></code><code class="java plain"><span>};</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>Cursor c1 = db.rawQuery(SQL, args);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>recordCount = c1.getCount();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"cursor count : "</span></code><span> </span><code class="java plain"><span>+ recordCount + </span></code><code class="java string"><span>"\n"</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>for</span></code><span> </span><code class="java plain"><span>(</span></code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>i = </span></code><code class="java value"><span>0</span></code><code class="java plain"><span>; i &lt; recordCount; i++) {</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>c1.moveToNext();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String name = c1.getString(</span></code><code class="java value"><span>0</span></code><code class="java plain"><span>);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>age = c1.getInt(</span></code><code class="java value"><span>1</span></code><code class="java plain"><span>);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String phone = c1.getString(</span></code><code class="java value"><span>2</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"Record #"</span></code><span> </span><code class="java plain"><span>+ i + </span></code><code class="java string"><span>" : "</span></code><span> </span><code class="java plain"><span>+ name + </span></code><code class="java string"><span>", "</span></code><span> </span><code class="java plain"><span>+ age + </span></code><code class="java string"><span>", "</span></code><span> </span><code class="java plain"><span>+ phone);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>}</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>c1.close();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>}</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>private</span></code><span> </span><code class="java keyword"><span>void</span></code><span> </span><code class="java plain"><span>executeRawQueryParam2() {</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"\nexecuteRawQueryParam2 called.\n"</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String[] columns = {</span></code><code class="java string"><span>"name"</span></code><code class="java plain"><span>, </span></code><code class="java string"><span>"age"</span></code><code class="java plain"><span>, </span></code><code class="java string"><span>"phone"</span></code><code class="java plain"><span>};</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String whereStr = </span></code><code class="java string"><span>"where age &gt; ?"</span></code><code class="java plain"><span>;</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String[] whereParams = {</span></code><code class="java string"><span>"30"</span></code><code class="java plain"><span>};</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>Cursor c1 = db.query(TABLE_NAME, columns,</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>whereStr, whereParams,</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>, </span></code><code class="java keyword"><span>null</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>recordCount = c1.getCount();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"cursor count : "</span></code><span> </span><code class="java plain"><span>+ recordCount + </span></code><code class="java string"><span>"\n"</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>for</span></code><span> </span><code class="java plain"><span>(</span></code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>i = </span></code><code class="java value"><span>0</span></code><code class="java plain"><span>; i &lt; recordCount; i++) {</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>c1.moveToNext();</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String name = c1.getString(</span></code><code class="java value"><span>0</span></code><code class="java plain"><span>);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java keyword"><span>int</span></code><span> </span><code class="java plain"><span>age = c1.getInt(</span></code><code class="java value"><span>1</span></code><code class="java plain"><span>);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>String phone = c1.getString(</span></code><code class="java value"><span>2</span></code><code class="java plain"><span>);</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>println(</span></code><code class="java string"><span>"Record #"</span></code><span> </span><code class="java plain"><span>+ i + </span></code><code class="java string"><span>" : "</span></code><span> </span><code class="java plain"><span>+ name + </span></code><code class="java string"><span>", "</span></code><span> </span><code class="java plain"><span>+ age + </span></code><code class="java string"><span>", "</span></code><span> </span><code class="java plain"><span>+ phone);</span></code></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>}</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>c1.close();</span></code></div><div><span>&nbsp;</span></div><div><code class="java spaces"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></code><code class="java plain"><span>}</span></code></div><span>﻿</span></span><p>&nbsp;</p><p>다음 부분입니다.</p><p>빨간 색으로 칠해놓은 부분은 상위 클래스의 생성자를 호출하는 부분입니다.</p><p>상세하게 설명하면 생성자에서 데이터베이스 이름과 버젼을 이용하는 겁니다.</p><p>&nbsp;</p><p>그 다음 주황색 부분입니다.</p></div><div>rawQuery() 메소드를 이용해 <u>SELECT SQL</u>문을 실행합니다.</div><div>여기서 rewQuery는 결과값을 Cursor 객체를 받을 수 있는 SQL 실행 방법입니다.</div><div>&nbsp;</div><div><u>SELECT SQL</u> : SELECT 문에서 필수 구성 절. 지정 열을 설명하는 것</div><div>&nbsp;</div><div>&nbsp;</div><div>노랑색 부분에는 커서 객체를 이용해 레코드를 하나씩 처리하는 구문입니다.</div><div>moveToNext 메소드를 이용해 레코드를 가리키도록 해 false 값을 리턴할 때 까지 레코드 값을 가져오는 방법을 일반적으로 사용합니다.</div><div>for문을 사용할 때에는 getCount를 이용하면 됩니다.</div><div>&nbsp;</div><div>&nbsp;</div><div>갈색 부분에는 커서를 닫는 부분입니다.</div><div>&nbsp;</div><div>초록색 부분에는 파라미터를 전달하면서 rawQuery() 메소드를 이용합니다.</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>어쨌든 이렇게 되면 테이블이 없으면 새로 만들고, 레코드를 추가 한 후 쿼리를 실행하고</div><div>있으면 열기만 하고 기존에 만들어진 테이블의 내용을 조회하면 됩니다.</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>다음 시간에 계속 하겠습니다.</div><div>&nbsp;</div></span><p></p><p></p></span></div><p></p><p></p></div></div></div></div>
